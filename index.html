<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Atlantis Folder Sharing — Admin</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="data:," />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <h1>🌊 Atlantis — Admin</h1>
      <small>Secure Folder Sharing</small>
    </div>
    <div id="top-actions" class="top-actions" aria-hidden="true">
      <span id="user-info" class="user-badge"></span>
      <button id="logout-btn" class="btn btn-ghost">Logout</button>
    </div>
  </header>

  <!-- login -->
  <main class="container">
    <section id="login-section" class="card login-card" aria-labelledby="login-title">
      <h2 id="login-title">🔐 Login Admin</h2>
      <form id="login-form" class="form">
        <input id="login-email" type="email" placeholder="Email" required autocomplete="username"/>
        <input id="login-password" type="password" placeholder="Password" required autocomplete="current-password" />
        <button class="btn">Login</button>
        <p id="login-error" class="error"></p>
      </form>
      <p class="muted">Hanya akun <strong>admin@atlantis.com</strong> yang diberi akses.</p>
    </section>

    <!-- app (hidden until login) -->
    <section id="app-section" class="app-grid" style="display:none;">
      <aside class="panel left">
        <div class="panel-header">
          <h3>📁 Folder</h3>
          <div class="row">
            <input id="folder-search" type="search" placeholder="Cari folder..." />
            <button id="new-folder-toggle" class="btn btn-sm">+ Folder</button>
          </div>
        </div>

        <form id="folder-form" class="create-row" style="display:none;">
          <input id="folder-name" type="text" placeholder="Nama folder baru..." required />
          <button type="submit" class="btn btn-sm">Buat</button>
          <button id="folder-cancel" type="button" class="btn btn-ghost btn-sm">Batal</button>
        </form>

        <ul id="folder-list" class="list"></ul>
      </aside>

      <section class="panel right">
        <div class="panel-header">
          <h3 id="folder-title">🗂 Pilih Folder</h3>
          <div class="row">
            <input id="file-search" type="search" placeholder="Cari file..." />
            <div class="upload-controls">
              <label class="btn btn-sm btn-upload" for="file-input">📤 Upload</label>
              <input id="file-input" type="file" hidden />
              <button id="clear-selection" class="btn btn-ghost btn-sm" title="Clear selection">✖</button>
            </div>
          </div>
        </div>

        <div id="drop-zone" class="drop-zone">Tarik & lepas file di sini, atau klik Upload</div>
        <div id="upload-progress" class="progress" hidden>
          <div id="upload-progress-bar" class="progress-bar" style="width:0%"></div>
        </div>

        <ul id="file-list" class="list file-list" aria-live="polite"></ul>
      </section>
    </section>
  </main>

  <footer class="footer">
    <small>© 2025 Atlantis Store</small>
  </footer>

  <!-- MODALS / TOAST -->
  <div id="preview-modal" class="modal" hidden>
    <div class="modal-content">
      <button class="modal-close" id="preview-close">✖</button>
      <div id="preview-body"></div>
    </div>
  </div>

  <div id="rename-modal" class="modal" hidden>
    <div class="modal-content">
      <button class="modal-close" id="rename-close">✖</button>
      <h4>Ubah Nama</h4>
      <form id="rename-form" class="form-inline">
        <input id="rename-input" type="text" required />
        <button class="btn btn-sm">Simpan</button>
      </form>
    </div>
  </div>

  <div id="toast" class="toast" hidden></div>

  <script type="module" src="app.js"></script>
</body>
</html>
